{% extends "base.html" %}

{% block title %}BlogerMenia - Share Your Stories with the World{% endblock %}

{% block content %}

<style>
    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in-up { animation: fadeInUp 0.6s ease-out forwards; }
    .chat-message { animation: fadeInUp 0.4s ease-out forwards; }

    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }
    .typing-indicator span { animation: pulse 1.4s ease-in-out infinite; }
    .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
    .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
</style>

<!-- Hero Section -->
<section id="home" class="pt-8 px-4 lg:px-8">
    <div class="max-w-7xl mx-auto">
        <div class="rounded-2xl bg-gradient-to-br from-indigo-50 to-purple-50 py-16 px-6">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">

                <!-- Left Content -->
                <div class="animate-fade-in-up">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="bg-indigo-600 text-white text-xs font-semibold px-3 py-1 rounded-full">#1</span>
                        <span class="text-gray-600 font-medium">AI-Powered Blog Platform</span>
                    </div>

                    <h1 class="text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight">
                        Transform ideas into <span class="text-indigo-600">engaging blogs</span> with AI
                    </h1>

                    <p class="text-lg text-gray-600 mb-8">
                        Create professional, insightful blogs powered by AI. Share your knowledge and discover meaningful content.
                    </p>

                    <div class="bg-white rounded-full shadow-lg p-2 flex items-center gap-2 mb-8">
                        <input type="text" placeholder="Type anything you want to know..." class="flex-1 px-6 py-3 rounded-full focus:outline-none text-gray-700">
                        <button class="bg-indigo-600 text-white px-8 py-3 rounded-full hover:bg-indigo-700 transition-colors font-semibold whitespace-nowrap">Find Blogs</button>
                    </div>

                    <!-- Stats -->
                    <div class="flex items-center gap-6 flex-wrap">

                        <!-- Users -->
                        <div class="flex items-center gap-3">
                            <div class="bg-indigo-100 p-3 rounded-lg">
                                <svg class="w-6 h-6 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
                            </div>
                            <div>
                                <p class="text-xs text-gray-500 uppercase tracking-wide">Active Users</p>
                                <p class="text-xl font-bold text-gray-900">12,500+</p>
                            </div>
                        </div>

                        <div class="h-10 w-px bg-gray-300"></div>

                        <!-- Blogs -->
                        <div class="flex items-center gap-3">
                            <div class="bg-purple-100 p-3 rounded-lg">
                                <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/></svg>
                            </div>
                            <div>
                                <p class="text-xs text-gray-500 uppercase tracking-wide">Blogs Published</p>
                                <p class="text-xl font-bold text-gray-900">8,432</p>
                            </div>
                        </div>

                        <div class="h-10 w-px bg-gray-300"></div>

                        <!-- Views -->
                        <div class="flex items-center gap-3">
                            <div class="bg-green-100 p-3 rounded-lg">
                                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/></svg>
                            </div>
                            <div>
                                <p class="text-xs text-gray-500 uppercase tracking-wide">Total Views</p>
                                <p class="text-xl font-bold text-gray-900">2.4M</p>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- Chat Preview -->
                <div class="relative">
                    <div class="absolute -top-6 -left-6 w-24 h-24 bg-indigo-400/20 rounded-full blur-2xl"></div>
                    <div class="absolute -bottom-6 -right-6 w-32 h-32 bg-purple-400/20 rounded-full blur-2xl"></div>

                    <div class="relative bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-500 p-1 rounded-3xl shadow-2xl">
                        <div class="bg-white rounded-3xl p-6">

                            <div class="flex items-center gap-2 mb-4 pb-4 border-b border-gray-200">
                                <div class="w-3 h-3 rounded-full bg-red-500"></div>
                                <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                                <div class="w-3 h-3 rounded-full bg-green-500"></div>
                                <div class="flex-1 ml-4 bg-gray-100 rounded-lg px-4 py-1">
                                    <p class="text-xs text-gray-400">blogermenia.com/blog-create-chat</p>
                                </div>
                            </div>

                            <div id="chatMessages" class="bg-gray-50 rounded-xl p-4 border-2 border-indigo-100 h-64 overflow-y-auto flex flex-col gap-3"></div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</section>


<!-- Testimonials Section -->
<section id="testimonials" class="py-24">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">

            <div>
                <span class="text-sm text-gray-500 font-medium mb-4 block">Testimonial</span>
                <h2 class="text-4xl font-bold text-gray-900 mb-6">
                    2,500+ Customers gave their 
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-violet-600">Feedback</span>
                </h2>

                <div class="flex items-center gap-4">
                    <button onclick="previousTestimonial()" class="border-2 border-indigo-600 w-12 h-12 rounded-lg flex items-center justify-center hover:bg-indigo-600 hover:text-white transition-colors group">
                        <svg class="w-6 h-6 text-indigo-600 group-hover:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
                    </button>

                    <button onclick="nextTestimonial()" class="border-2 border-indigo-600 w-12 h-12 rounded-lg flex items-center justify-center hover:bg-indigo-600 hover:text-white transition-colors group">
                        <svg class="w-6 h-6 text-indigo-600 group-hover:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                    </button>
                </div>
            </div>

            <!-- Testimonials Slider -->
            <div class="relative">
                <div class="overflow-hidden rounded-2xl">
                    <div id="testimonialsContainer" class="flex transition-transform duration-500 ease-in-out">
                        {% for t in testimonials %}
                        <div class="min-w-full flex-shrink-0 px-2">
                            <div class="bg-white rounded-xl shadow-lg p-8 text-center">
                                <!-- Message -->
                                <p class="text-gray-700 text-lg leading-relaxed mb-6 italic">
                                    "{{ t.message }}"
                                </p>

                                <!-- Username -->
                                <p class="text-indigo-600 font-semibold text-base">
                                    — {{ t.name }}
                                </p>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- Slide Indicators -->
                <div class="flex justify-center gap-2 mt-6">
                    {% for t in testimonials %}
                    <button onclick="goToTestimonial({{ forloop.counter0 }})" class="testimonial-indicator w-2 h-2 rounded-full bg-gray-300 hover:bg-indigo-600 transition-all duration-300" data-index="{{ forloop.counter0 }}"></button>
                    {% endfor %}
                </div>
            </div>

        </div>
    </div>
</section>

<!-- FAQ -->
<section id="faq" class="py-24">
    <div class="max-w-4xl mx-auto px-4">

        <div class="text-center mb-12">
            <span class="text-sm text-gray-500 font-medium mb-4 block">FAQ</span>
            <h2 class="text-4xl font-bold text-gray-900 mb-4">Frequently Asked Questions</h2>
            <p class="text-lg text-gray-600">Everything you need to know about BlogerMenia</p>
        </div>

        <div id="faqContainer" class="space-y-4">
            {% for f in faqs %}
            <div class="border border-gray-200 rounded-lg overflow-hidden bg-white">
                <button onclick="toggleFAQ({{ forloop.counter }})" class="w-full flex justify-between items-center px-6 py-4 bg-gray-50 hover:bg-gray-100 transition">
                    <span class="font-semibold text-gray-900">{{ f.question }}</span>
                    <svg id="faqIcon{{ forloop.counter }}" class="w-6 h-6 text-gray-600 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                </button>
                <div id="faqAnswer{{ forloop.counter }}" class="px-6 py-4 hidden text-gray-700">{{ f.answer }}</div>
            </div>
            {% endfor %}
        </div>

        <div class="mt-12 text-center p-8 bg-gradient-to-r from-indigo-50 to-violet-50 rounded-xl border border-indigo-100">
            <h3 class="text-xl font-semibold text-gray-900 mb-2">Still have questions?</h3>
            <p class="text-gray-600 mb-4">Can't find the answer you're looking for?</p>
            <a href="mailto:support@blogermenia.com" class="inline-flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors font-semibold">Contact Support</a>
        </div>

    </div>
</section>

{% endblock %}


{% block extra_scripts %}
<script>
/* Testimonial slider */
let currentTestimonial = 0;

function updateTestimonialIndicators() {
    const indicators = document.querySelectorAll('.testimonial-indicator');
    indicators.forEach((indicator, index) => {
        if (index === currentTestimonial) {
            indicator.classList.remove('bg-gray-300');
            indicator.classList.add('bg-indigo-600', 'w-8');
        } else {
            indicator.classList.remove('bg-indigo-600', 'w-8');
            indicator.classList.add('bg-gray-300');
        }
    });
}

function goToTestimonial(index) {
    const container = document.getElementById("testimonialsContainer");
    currentTestimonial = index;
    container.style.transform = `translateX(-${currentTestimonial * 100}%)`;
    updateTestimonialIndicators();
}

function nextTestimonial() {
    const container = document.getElementById("testimonialsContainer");
    const total = container.children.length;
    currentTestimonial = (currentTestimonial + 1) % total;
    container.style.transform = `translateX(-${currentTestimonial * 100}%)`;
    updateTestimonialIndicators();
}

function previousTestimonial() {
    const container = document.getElementById("testimonialsContainer");
    const total = container.children.length;
    currentTestimonial = (currentTestimonial - 1 + total) % total;
    container.style.transform = `translateX(-${currentTestimonial * 100}%)`;
    updateTestimonialIndicators();
}

// Auto-slide testimonials every 5 seconds
setInterval(nextTestimonial, 5000);

// Initialize indicators on page load
document.addEventListener('DOMContentLoaded', updateTestimonialIndicators);

/* FAQ */
function toggleFAQ(id) {
    const answer = document.getElementById(`faqAnswer${id}`);
    const icon = document.getElementById(`faqIcon${id}`);
    const isOpen = !answer.classList.contains("hidden");

    answer.classList.toggle("hidden");
    icon.classList.toggle("rotate-180");
}

/* Chat demo */
const conversation = [
  { role: 'assistant', content: 'Hey Jay Patel, what kind of blog would you like to create?' },
  { role: 'user', content: 'Create a blog on Python OOP concepts.' },
  { role: 'assistant', content: 'Creating your Python OOP blog…' },
  { role: 'assistant', content: 'Done! "Python OOP Fundamentals" — classes, inheritance, polymorphism with examples.' },
  { role: 'user', content: 'Add a short introduction as well.' },
  { role: 'assistant', content: 'Intro: Object-Oriented Programming (OOP) in Python helps structure code using classes and objects for cleaner, reusable designs.' },
  { role: 'user', content: 'Now, make a blog on JavaScript async/await.' },
  { role: 'assistant', content: 'Creating your JavaScript async/await blog…' },
  { role: 'assistant', content: 'Done! "JavaScript Async/Await Explained" — promises, async functions, error handling with examples.' },
];

const chatBox = document.getElementById('chatMessages');
let msgIndex = 0;

function typeText(role, text, callback) {
    let i = 0;
    const wrapper = document.createElement('div');
    wrapper.className = `chat-message flex gap-2 ${role === 'user' ? 'justify-end' : 'justify-start'} items-end`;

    // Add avatar for assistant
    if (role === 'assistant') {
        const avatar = document.createElement('div');
        avatar.className = 'w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold flex-shrink-0';
        avatar.textContent = 'AI';
        wrapper.appendChild(avatar);
    }

    const bubble = document.createElement('div');
    bubble.className = `px-4 py-3 rounded-2xl max-w-[75%] text-sm shadow-sm ${
        role === 'user'
            ? 'bg-gradient-to-br from-indigo-600 to-indigo-500 text-white rounded-br-sm'
            : 'bg-white text-gray-800 border border-gray-200 rounded-bl-sm'
    }`;

    wrapper.appendChild(bubble);

    // Add avatar for user
    if (role === 'user') {
        const avatar = document.createElement('div');
        avatar.className = 'w-8 h-8 rounded-full bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center text-white text-xs font-bold flex-shrink-0';
        avatar.textContent = 'JP';
        wrapper.appendChild(avatar);
    }

    chatBox.appendChild(wrapper);

    function tick() {
        bubble.textContent = text.slice(0, i);
        i++;
        chatBox.scrollTop = chatBox.scrollHeight;
        if (i <= text.length) setTimeout(tick, 15);
        else {
            // Add timestamp
            const timestamp = document.createElement('div');
            timestamp.className = `text-xs text-gray-400 mt-1 px-2 ${role === 'user' ? 'text-right' : 'text-left'}`;
            const now = new Date();
            timestamp.textContent = now.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });

            const timeWrapper = document.createElement('div');
            timeWrapper.className = `flex ${role === 'user' ? 'justify-end' : 'justify-start'}`;
            timeWrapper.appendChild(timestamp);
            chatBox.appendChild(timeWrapper);

            callback();
        }
    }
    tick();
}

function playChat() {
    if (msgIndex >= conversation.length) return;
    const { role, content } = conversation[msgIndex];

    // Show typing indicator for assistant messages
    if (role === 'assistant' && msgIndex > 0) {
        const typingWrapper = document.createElement('div');
        typingWrapper.className = 'flex gap-2 items-end typing-indicator-wrapper';
        typingWrapper.innerHTML = `
            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold">AI</div>
            <div class="px-4 py-3 rounded-2xl bg-white border border-gray-200">
                <div class="typing-indicator flex gap-1">
                    <span class="w-2 h-2 bg-gray-400 rounded-full"></span>
                    <span class="w-2 h-2 bg-gray-400 rounded-full"></span>
                    <span class="w-2 h-2 bg-gray-400 rounded-full"></span>
                </div>
            </div>
        `;
        chatBox.appendChild(typingWrapper);
        chatBox.scrollTop = chatBox.scrollHeight;

        setTimeout(() => {
            typingWrapper.remove();
            typeText(role, content, () => {
                msgIndex++;
                setTimeout(playChat, 500);
            });
        }, 800);
    } else {
        typeText(role, content, () => {
            msgIndex++;
            setTimeout(playChat, 500);
        });
    }
}
setTimeout(playChat, 500);
</script>
{% endblock %}
